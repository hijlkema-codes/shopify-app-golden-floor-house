(()=>{var c=(e,t="generic",r=void 0,...a)=>{let s=e.querySelector("[data-errors]"),o=s.content.querySelector(`[data-error="${t}"]`);o||(o=s.content.querySelector("[data-error='generic']"));let q=o.cloneNode(!0);e.appendChild(q),e.setAttribute("aria-invalid","true"),r&&console.warn(r,...a)},p=e=>{e.querySelectorAll("[data-error]").forEach(r=>{r.remove()}),e.setAttribute("aria-invalid","false")};var m={parse_float:e=>parseFloat(e),parse_boolean:e=>["true","1","on","yes"].includes(e.toLowerCase()),to_currency:e=>new Intl.NumberFormat(void 0,{currency:"EUR",style:"currency"}).format(e),to_currency_unsigned:e=>new Intl.NumberFormat(void 0,{currency:"EUR",style:"currency",currencyDisplay:"code"}).format(e).replace("EUR","").trim(),from_cents:e=>e/100},i=(e,t)=>t.reduce((r,a)=>m[a]?m[a](r):r,e);var u=(e,t)=>{let r=document.querySelector(`[data-value-target="${e}"]`);if(r)if(r.hasAttribute("data-value-target-attribute")){let a=r.getAttribute("data-value-target-attribute");r.setAttribute(a,t);return}else r.innerHTML=t},n=(e,t,r=[])=>{let a="";return e.hasAttribute(t)&&(a=e.getAttribute(t)),e.dataset[t]&&(a=e.dataset[t]),i(a,r)},h=(e,t=[])=>{let r="";return e.tagName==="INPUT"&&(r=e.value),i(r,t)},d=(e,t)=>{t.forEach(r=>{e.addEventListener(r.type,r.handler)})},l=(e,t=!0)=>{t?(e.setAttribute("disabled",!0),e.classList.add("loading"),e.setAttribute("aria-busy","true")):(e.removeAttribute("disabled"),e.classList.remove("loading"),e.setAttribute("aria-busy","false"))};var y=(e,t)=>Math.round(e*(1+t/100)),b=(e,t)=>Math.ceil(e/t);var g=async(e,t)=>(await fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:e,quantity:t}]})})).json();var v="cart-drawer",E=()=>{let e=document.querySelector(v);e&&(e.update?.(),e.purchaseHandler?.(),e.open?.())};var S="package-calculator",f=class extends HTMLElement{connectedCallback(){super.connectedCallback?.(),d(this,[{type:"input",handler:this.#e.bind(this)}]),d(this.querySelector("form"),[{type:"submit",handler:this.#t.bind(this)}])}#e(t){t.preventDefault(),this.setAttribute("aria-expanded","true");let r=t.target.valueAsNumber;if(!this.#s(r)){this.#n(1);return}let a=this.#r(r);this.#a(a)}async#t(t){t.preventDefault(),p(this);let r=h(this.querySelector('input[name="square_meters"]'),["parse_int"]),a=n(this,"productId"),s=n(this.querySelector('input[name="quantity"]'),"value",["parse_int"]);if(!r){c(this,"missing-fields","Surface area is required.",{squareMeters:r});return}if(!a){c(this,"generic","Product ID not found.");return}if(!s){c(this,"missing-fields","Quantity is required.",{quantity:s});return}l(this),await g(a,s),l(this,!1),E()}#r(t){return y(t,n(this,"cutoffPercentage",["parse_float"]))}#a(t){let r=n(this,"squareMetersPerPackage",["parse_float"]),a=n(this,"productPrice",["parse_float","from_cents"]),s=b(t,r),o=i(s*a,[this.#o()]);u("selected-packs",s),u("entered-surface-area",t),u("totals",o),u("quantity",s)}#s(t){return!(!t||isNaN(t)||t<1)}#n(){this.setAttribute("aria-expanded","false")}#o(){return n(this,"showCurrency",["parse_boolean"])?"to_currency":"to_currency_unsigned"}};customElements.get(S)||customElements.define(S,f);})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvdGhlbWUtZXh0ZW5zaW9uL3V0aWxzL2Vycm9ycy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvdGhlbWUtZXh0ZW5zaW9uL3V0aWxzL3RyYW5zZm9ybWVycy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvdGhlbWUtZXh0ZW5zaW9uL3V0aWxzL2h0bWwubWpzIiwgIi4uLy4uLy4uL3Jlc291cmNlcy9leHRlbnNpb25zL3RoZW1lLWV4dGVuc2lvbi91dGlscy9tYXRocy5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvdGhlbWUtZXh0ZW5zaW9uL3V0aWxzL3Nob3BpZnkubWpzIiwgIi4uLy4uLy4uL3Jlc291cmNlcy9leHRlbnNpb25zL3RoZW1lLWV4dGVuc2lvbi91dGlscy90aGVtZS5tanMiLCAiLi4vLi4vLi4vcmVzb3VyY2VzL2V4dGVuc2lvbnMvdGhlbWUtZXh0ZW5zaW9uL3BhY2thZ2UtY2FsY3VsYXRvci5tanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBjb25zdCBzaG93RXJyb3IgPSAoXG4gIHRhcmdldEVsZW1lbnQsXG4gIG1lc3NhZ2VUeXBlID0gXCJnZW5lcmljXCIsXG4gIGludGVybmFsRXJyb3IgPSB1bmRlZmluZWQsXG4gIC4uLmVycm9yQXJnc1xuKSA9PiB7XG4gIGNvbnN0IGVycm9yVGVtcGxhdGVzID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXJyb3JzXVwiKTtcbiAgbGV0IGVycm9yVGVtcGxhdGUgPSBlcnJvclRlbXBsYXRlcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgYFtkYXRhLWVycm9yPVwiJHttZXNzYWdlVHlwZX1cIl1gXG4gICk7XG5cbiAgaWYgKCFlcnJvclRlbXBsYXRlKSB7XG4gICAgZXJyb3JUZW1wbGF0ZSA9IGVycm9yVGVtcGxhdGVzLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiW2RhdGEtZXJyb3I9J2dlbmVyaWMnXVwiXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGVycm9yVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKGVycm9yRWxlbWVudCk7XG4gIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsIFwidHJ1ZVwiKTtcblxuICBpZiAoaW50ZXJuYWxFcnJvcikge1xuICAgIGNvbnNvbGUud2FybihpbnRlcm5hbEVycm9yLCAuLi5lcnJvckFyZ3MpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYXJFcnJvcnMgPSAodGFyZ2V0RWxlbWVudCkgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnRzID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZXJyb3JdXCIpO1xuICBlcnJvckVsZW1lbnRzLmZvckVhY2goKGVycm9yRWxlbWVudCkgPT4ge1xuICAgIGVycm9yRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG4gIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsIFwiZmFsc2VcIik7XG59O1xuIiwgImNvbnN0IFRSQU5TRk9STUVSUyA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcmljZSBpbiBjZW50c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcHJpY2UgYXMgZmxvYXQuXG4gICAqL1xuICBwYXJzZV9mbG9hdDogKHZhbHVlKSA9PiBwYXJzZUZsb2F0KHZhbHVlKSxcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBhcnNlX2Jvb2xlYW46ICh2YWx1ZSkgPT5cbiAgICBbXCJ0cnVlXCIsIFwiMVwiLCBcIm9uXCIsIFwieWVzXCJdLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpLFxuXG4gIHRvX2N1cnJlbmN5OiAodmFsdWUpID0+IHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCB7XG4gICAgICBjdXJyZW5jeTogXCJFVVJcIixcbiAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSk7XG4gIH0sXG5cbiAgdG9fY3VycmVuY3lfdW5zaWduZWQ6ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh1bmRlZmluZWQsIHtcbiAgICAgIGN1cnJlbmN5OiBcIkVVUlwiLFxuICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgIGN1cnJlbmN5RGlzcGxheTogXCJjb2RlXCIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkucmVwbGFjZShcIkVVUlwiLCBcIlwiKS50cmltKCk7XG4gIH0sXG5cbiAgZnJvbV9jZW50czogKHZhbHVlKSA9PiB2YWx1ZSAvIDEwMFxufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybSA9ICh2YWx1ZSwgdHJhbnNmb3JtZXJzKSA9PiB7XG4gIHJldHVybiB0cmFuc2Zvcm1lcnMucmVkdWNlKChhY2MsIHRyYW5zZm9ybWVyKSA9PiB7XG4gICAgaWYgKFRSQU5TRk9STUVSU1t0cmFuc2Zvcm1lcl0pIHtcbiAgICAgIHJldHVybiBUUkFOU0ZPUk1FUlNbdHJhbnNmb3JtZXJdKGFjYyk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHZhbHVlKTtcbn07XG4iLCAiaW1wb3J0IHsgdHJhbnNmb3JtIH0gZnJvbSBcIi4vdHJhbnNmb3JtZXJzLm1qc1wiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlSHRtbFRhcmdldCA9ICh0YXJnZXQsIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS12YWx1ZS10YXJnZXQ9XCIke3RhcmdldH1cIl1gKTtcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XG5cbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS12YWx1ZS10YXJnZXQtYXR0cmlidXRlXCIpKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbHVlLXRhcmdldC1hdHRyaWJ1dGVcIik7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50QXR0cmlidXRlID0gKGVsZW1lbnQsIG5hbWUsIHRyYW5zZm9ybWVycyA9IFtdKSA9PiB7XG4gIGxldCB2YWx1ZSA9IFwiXCI7XG5cbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKG5hbWUpKSB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICBpZiAoZWxlbWVudC5kYXRhc2V0W25hbWVdKSB2YWx1ZSA9IGVsZW1lbnQuZGF0YXNldFtuYW1lXTtcblxuICByZXR1cm4gdHJhbnNmb3JtKHZhbHVlLCB0cmFuc2Zvcm1lcnMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRWYWx1ZSA9IChlbGVtZW50LCB0cmFuc2Zvcm1lcnMgPSBbXSkgPT4ge1xuICBsZXQgdmFsdWUgPSBcIlwiO1xuXG4gIGlmIChlbGVtZW50LnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHZhbHVlID0gZWxlbWVudC52YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2Zvcm0odmFsdWUsIHRyYW5zZm9ybWVycyk7XG59O1xuXG5leHBvcnQgY29uc3QgYmluZEV2ZW50TGlzdGVuZXJzID0gKGVsZW1lbnQsIGV2ZW50cykgPT4ge1xuICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQudHlwZSwgZXZlbnQuaGFuZGxlcik7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEVsZW1lbnRMb2FkaW5nID0gKGVsZW1lbnQsIGlzTG9hZGluZyA9IHRydWUpID0+IHtcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibG9hZGluZ1wiKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtYnVzeVwiLCBcInRydWVcIik7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJsb2FkaW5nXCIpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1idXN5XCIsIFwiZmFsc2VcIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVFbGVtZW50SGFzSWQgPSAoZWxlbWVudCkgPT4ge1xuICBpZiAoIWVsZW1lbnQuaWQpIHtcbiAgICBlbGVtZW50LmlkID0gYGlkLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5pZDtcbn0iLCAiZXhwb3J0IGNvbnN0IGFkZFBlcmNlbnRhZ2VDZWlsZWQgPSAodmFsdWUsIHBlcmNlbnRhZ2UpID0+XG4gIE1hdGguY2VpbCh2YWx1ZSAqICgxICsgcGVyY2VudGFnZSAvIDEwMCkpO1xuXG5leHBvcnQgY29uc3QgYWRkUGVyY2VudGFnZVJvdW5kZWQgPSAodmFsdWUsIHBlcmNlbnRhZ2UpID0+XG4gIE1hdGgucm91bmQodmFsdWUgKiAoMSArIHBlcmNlbnRhZ2UgLyAxMDApKTtcblxuZXhwb3J0IGNvbnN0IGRpdmlkZUNlaWxlZCA9ICh2YWx1ZSwgZGl2aXNvcikgPT4gTWF0aC5jZWlsKHZhbHVlIC8gZGl2aXNvcik7XG4iLCAiZXhwb3J0IGNvbnN0IGFkZFRvQ2FydCA9IGFzeW5jICh2YXJpYW50SWQsIHF1YW50aXR5KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2god2luZG93LlNob3BpZnkucm91dGVzLnJvb3QgKyBcImNhcnQvYWRkLmpzXCIsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgaXRlbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiB2YXJpYW50SWQsXG4gICAgICAgICAgcXVhbnRpdHksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pLFxuICB9KTtcblxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufTtcbiIsICJjb25zdCBjYXJ0RHJhd2VyU2VsZWN0b3IgPSBcImNhcnQtZHJhd2VyXCI7XG5cbmV4cG9ydCBjb25zdCBvcGVuQ2FydERyYXdlciA9ICgpID0+IHtcbiAgY29uc3QgY2FydERyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FydERyYXdlclNlbGVjdG9yKTtcbiAgaWYgKGNhcnREcmF3ZXIpIHtcbiAgICBjYXJ0RHJhd2VyLnVwZGF0ZT8uKCk7XG4gICAgY2FydERyYXdlci5wdXJjaGFzZUhhbmRsZXI/LigpO1xuICAgIGNhcnREcmF3ZXIub3Blbj8uKCk7XG4gIH1cbn07XG4iLCAiaW1wb3J0IHsgY2xlYXJFcnJvcnMsIHNob3dFcnJvciB9IGZyb20gXCIuL3V0aWxzL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7XG4gIGJpbmRFdmVudExpc3RlbmVycyxcbiAgZ2V0RWxlbWVudEF0dHJpYnV0ZSxcbiAgZ2V0RWxlbWVudFZhbHVlLFxuICBzZXRFbGVtZW50TG9hZGluZyxcbiAgdXBkYXRlSHRtbFRhcmdldCxcbn0gZnJvbSBcIi4vdXRpbHMvaHRtbC5tanNcIjtcbmltcG9ydCB7IGFkZFBlcmNlbnRhZ2VSb3VuZGVkLCBkaXZpZGVDZWlsZWQgfSBmcm9tIFwiLi91dGlscy9tYXRocy5tanNcIjtcbmltcG9ydCB7IGFkZFRvQ2FydCB9IGZyb20gXCIuL3V0aWxzL3Nob3BpZnkubWpzXCI7XG5pbXBvcnQgeyBvcGVuQ2FydERyYXdlciB9IGZyb20gXCIuL3V0aWxzL3RoZW1lLm1qc1wiO1xuaW1wb3J0IHsgdHJhbnNmb3JtIH0gZnJvbSBcIi4vdXRpbHMvdHJhbnNmb3JtZXJzLm1qc1wiO1xuXG5jb25zdCBwYWNrYWdlQ2FsY3VsYXRvclNlbGVjdG9yID0gXCJwYWNrYWdlLWNhbGN1bGF0b3JcIjtcblxuY2xhc3MgUGFja2FnZUNhbGN1bGF0b3IgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrPy4oKTtcblxuICAgIGJpbmRFdmVudExpc3RlbmVycyh0aGlzLCBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgaGFuZGxlcjogdGhpcy4jaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyksXG4gICAgICB9LFxuICAgIF0pO1xuXG4gICAgYmluZEV2ZW50TGlzdGVuZXJzKHRoaXMucXVlcnlTZWxlY3RvcihcImZvcm1cIiksIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICAgICAgaGFuZGxlcjogdGhpcy4jaGFuZGxlU3VibWl0LmJpbmQodGhpcyksXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SW5wdXRFdmVudH0gZXZlbnRcbiAgICovXG4gICNoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG5cbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZUFzTnVtYmVyO1xuXG4gICAgaWYgKCF0aGlzLiNpc1ZhbGlkRXZlbnRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuI3Jlc2V0KDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNxdWFyZU1ldGVycyA9IHRoaXMuI2NhbGN1bGF0ZVN1cmZhY2VXaXRoQ3V0b2ZmKHZhbHVlKTtcblxuICAgIHRoaXMuI3VwZGF0ZVZhbHVlcyhzcXVhcmVNZXRlcnMpO1xuICB9XG5cbiAgYXN5bmMgI2hhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2xlYXJFcnJvcnModGhpcyk7XG5cbiAgICBjb25zdCBzcXVhcmVNZXRlcnMgPSBnZXRFbGVtZW50VmFsdWUoXG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzcXVhcmVfbWV0ZXJzXCJdJyksXG4gICAgICBbXCJwYXJzZV9pbnRcIl1cbiAgICApO1xuICAgIGNvbnN0IHZhcmlhbnRJZCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUodGhpcywgXCJwcm9kdWN0SWRcIik7XG4gICAgY29uc3QgcXVhbnRpdHkgPSBnZXRFbGVtZW50QXR0cmlidXRlKFxuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicXVhbnRpdHlcIl0nKSxcbiAgICAgIFwidmFsdWVcIixcbiAgICAgIFtcInBhcnNlX2ludFwiXVxuICAgICk7XG5cbiAgICAvLyBWYWxpZGF0aW9uIGZpcnN0LlxuICAgIGlmICghc3F1YXJlTWV0ZXJzKSB7XG4gICAgICBzaG93RXJyb3IodGhpcywgXCJtaXNzaW5nLWZpZWxkc1wiLCBcIlN1cmZhY2UgYXJlYSBpcyByZXF1aXJlZC5cIiwge1xuICAgICAgICBzcXVhcmVNZXRlcnMsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF2YXJpYW50SWQpIHtcbiAgICAgIHNob3dFcnJvcih0aGlzLCBcImdlbmVyaWNcIiwgXCJQcm9kdWN0IElEIG5vdCBmb3VuZC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFxdWFudGl0eSkge1xuICAgICAgc2hvd0Vycm9yKHRoaXMsIFwibWlzc2luZy1maWVsZHNcIiwgXCJRdWFudGl0eSBpcyByZXF1aXJlZC5cIiwgeyBxdWFudGl0eSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdG8gY2FydCBsb2dpYy5cblxuICAgIHNldEVsZW1lbnRMb2FkaW5nKHRoaXMpO1xuICAgIGF3YWl0IGFkZFRvQ2FydCh2YXJpYW50SWQsIHF1YW50aXR5KTtcbiAgICBzZXRFbGVtZW50TG9hZGluZyh0aGlzLCBmYWxzZSk7XG5cbiAgICAvLyBPcGVuIHRoZSBjYXJ0IGRyYXdlci5cbiAgICBvcGVuQ2FydERyYXdlcigpO1xuICB9XG5cbiAgI2NhbGN1bGF0ZVN1cmZhY2VXaXRoQ3V0b2ZmKHNxdWFyZU1ldGVycykge1xuICAgIHJldHVybiBhZGRQZXJjZW50YWdlUm91bmRlZChcbiAgICAgIHNxdWFyZU1ldGVycyxcbiAgICAgIGdldEVsZW1lbnRBdHRyaWJ1dGUodGhpcywgXCJjdXRvZmZQZXJjZW50YWdlXCIsIFtcInBhcnNlX2Zsb2F0XCJdKVxuICAgICk7XG4gIH1cblxuICAjdXBkYXRlVmFsdWVzKHNxdWFyZU1ldGVycykge1xuICAgIGNvbnN0IHNxdWFyZU1ldGVyc1BlclBhY2thZ2UgPSBnZXRFbGVtZW50QXR0cmlidXRlKFxuICAgICAgdGhpcyxcbiAgICAgIFwic3F1YXJlTWV0ZXJzUGVyUGFja2FnZVwiLFxuICAgICAgW1wicGFyc2VfZmxvYXRcIl1cbiAgICApO1xuICAgIGNvbnN0IHBhY2thZ2VQcmljZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUodGhpcywgXCJwcm9kdWN0UHJpY2VcIiwgW1xuICAgICAgXCJwYXJzZV9mbG9hdFwiLFxuICAgICAgXCJmcm9tX2NlbnRzXCIsXG4gICAgXSk7XG5cbiAgICBjb25zdCBwYWNrYWdlc05lZWRlZCA9IGRpdmlkZUNlaWxlZChzcXVhcmVNZXRlcnMsIHNxdWFyZU1ldGVyc1BlclBhY2thZ2UpO1xuICAgIGNvbnN0IHRvdGFsUHJpY2UgPSB0cmFuc2Zvcm0ocGFja2FnZXNOZWVkZWQgKiBwYWNrYWdlUHJpY2UsIFtcbiAgICAgIHRoaXMuI2dldEN1cnJlbmN5VHJhbnNmb3JtZXIoKSxcbiAgICBdKTtcblxuICAgIHVwZGF0ZUh0bWxUYXJnZXQoXCJzZWxlY3RlZC1wYWNrc1wiLCBwYWNrYWdlc05lZWRlZCk7XG4gICAgdXBkYXRlSHRtbFRhcmdldChcImVudGVyZWQtc3VyZmFjZS1hcmVhXCIsIHNxdWFyZU1ldGVycyk7XG4gICAgdXBkYXRlSHRtbFRhcmdldChcInRvdGFsc1wiLCB0b3RhbFByaWNlKTtcbiAgICB1cGRhdGVIdG1sVGFyZ2V0KFwicXVhbnRpdHlcIiwgcGFja2FnZXNOZWVkZWQpO1xuICB9XG5cbiAgI2lzVmFsaWRFdmVudFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc05hTih2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmFsdWUgPCAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gICNyZXNldCgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgfVxuXG4gICNnZXRDdXJyZW5jeVRyYW5zZm9ybWVyKCkge1xuICAgIGlmIChnZXRFbGVtZW50QXR0cmlidXRlKHRoaXMsIFwic2hvd0N1cnJlbmN5XCIsIFtcInBhcnNlX2Jvb2xlYW5cIl0pKSB7XG4gICAgICByZXR1cm4gXCJ0b19jdXJyZW5jeVwiO1xuICAgIH1cblxuICAgIHJldHVybiBcInRvX2N1cnJlbmN5X3Vuc2lnbmVkXCI7XG4gIH1cbn1cblxuLy8gRGVmaW5lIHRoZSBjdXN0b20gZWxlbWVudC5cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHBhY2thZ2VDYWxjdWxhdG9yU2VsZWN0b3IpKVxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUocGFja2FnZUNhbGN1bGF0b3JTZWxlY3RvciwgUGFja2FnZUNhbGN1bGF0b3IpO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BQU8sSUFBTUEsRUFBWSxDQUN2QkMsRUFDQUMsRUFBYyxVQUNkQyxFQUFnQixVQUNiQyxJQUNBLENBQ0gsSUFBTUMsRUFBaUJKLEVBQWMsY0FBYyxlQUFlLEVBQzlESyxFQUFnQkQsRUFBZSxRQUFRLGNBQ3pDLGdCQUFnQkgsQ0FBVyxJQUM3QixFQUVLSSxJQUNIQSxFQUFnQkQsRUFBZSxRQUFRLGNBQ3JDLHdCQUNGLEdBR0YsSUFBTUUsRUFBZUQsRUFBYyxVQUFVLEVBQUksRUFDakRMLEVBQWMsWUFBWU0sQ0FBWSxFQUN0Q04sRUFBYyxhQUFhLGVBQWdCLE1BQU0sRUFFN0NFLEdBQ0YsUUFBUSxLQUFLQSxFQUFlLEdBQUdDLENBQVMsQ0FFNUMsRUFFYUksRUFBZVAsR0FBa0IsQ0FDdEJBLEVBQWMsaUJBQWlCLGNBQWMsRUFDckQsUUFBU00sR0FBaUIsQ0FDdENBLEVBQWEsT0FBTyxDQUN0QixDQUFDLEVBQ0ROLEVBQWMsYUFBYSxlQUFnQixPQUFPLENBQ3BELEVDaENBLElBQU1RLEVBQWUsQ0FLbkIsWUFBY0MsR0FBVSxXQUFXQSxDQUFLLEVBS3hDLGNBQWdCQSxHQUNkLENBQUMsT0FBUSxJQUFLLEtBQU0sS0FBSyxFQUFFLFNBQVNBLEVBQU0sWUFBWSxDQUFDLEVBRXpELFlBQWNBLEdBQ00sSUFBSSxLQUFLLGFBQWEsT0FBVyxDQUNqRCxTQUFVLE1BQ1YsTUFBTyxVQUNULENBQUMsRUFFZ0IsT0FBT0EsQ0FBSyxFQUcvQixxQkFBdUJBLEdBQ0gsSUFBSSxLQUFLLGFBQWEsT0FBVyxDQUNqRCxTQUFVLE1BQ1YsTUFBTyxXQUNQLGdCQUFp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TSxlQUFnQixDQUM3RCxjQUNBLFlBQ0YsQ0FBQyxFQUVLUyxFQUFpQkMsRUFBYWhCLEVBQWNhLENBQXNCLEVBQ2xFSSxFQUFhQyxFQUFVSCxFQUFpQkQsRUFBYyxDQUMxRCxLQUFLSyxHQUF3QixDQUMvQixDQUFDLEVBRURDLEVBQWlCLGlCQUFrQkwsQ0FBYyxFQUNqREssRUFBaUIsdUJBQXdCcEIsQ0FBWSxFQUNyRG9CLEVBQWlCLFNBQVVILENBQVUsRUFDckNHLEVBQWlCLFdBQVlMLENBQWMsQ0FDN0MsQ0FFQWpCLEdBQW1CRCxFQUFPLENBR3hCLE1BRkksR0FBQ0EsR0FDRCxNQUFNQSxDQUFLLEdBQ1hBLEVBQVEsRUFHZCxDQUVBRSxJQUFTLENBQ1AsS0FBSyxhQUFhLGdCQUFpQixPQUFPLENBQzVDLENBRUFvQixJQUEwQixDQUN4QixPQUFJYixFQUFvQixLQUFNLGVBQWdCLENBQUMsZUFBZSxDQUFDLEVBQ3RELGNBR0Ysc0JBQ1QsQ0FDRixFQUdLLGVBQWUsSUFBSWYsQ0FBeUIsR0FDL0MsZUFBZSxPQUFPQSxFQUEyQkMsQ0FBaUIiLAogICJuYW1lcyI6IFsic2hvd0Vycm9yIiwgInRhcmdldEVsZW1lbnQiLCAibWVzc2FnZVR5cGUiLCAiaW50ZXJuYWxFcnJvciIsICJlcnJvckFyZ3MiLCAiZXJyb3JUZW1wbGF0ZXMiLCAiZXJyb3JUZW1wbGF0ZSIsICJlcnJvckVsZW1lbnQiLCAiY2xlYXJFcnJvcnMiLCAiVFJBTlNGT1JNRVJTIiwgInZhbHVlIiwgInRyYW5zZm9ybSIsICJ0cmFuc2Zvcm1lcnMiLCAiYWNjIiwgInRyYW5zZm9ybWVyIiwgInVwZGF0ZUh0bWxUYXJnZXQiLCAidGFyZ2V0IiwgInZhbHVlIiwgImVsZW1lbnQiLCAiYXR0cmlidXRlIiwgImdldEVsZW1lbnRBdHRyaWJ1dGUiLCAibmFtZSIsICJ0cmFuc2Zvcm1lcnMiLCAidHJhbnNmb3JtIiwgImdldEVsZW1lbnRWYWx1ZSIsICJiaW5kRXZlbnRMaXN0ZW5lcnMiLCAiZXZlbnRzIiwgImV2ZW50IiwgInNldEVsZW1lbnRMb2FkaW5nIiwgImlzTG9hZGluZyIsICJhZGRQZXJjZW50YWdlUm91bmRlZCIsICJ2YWx1ZSIsICJwZXJjZW50YWdlIiwgImRpdmlkZUNlaWxlZCIsICJkaXZpc29yIiwgImFkZFRvQ2FydCIsICJ2YXJpYW50SWQiLCAicXVhbnRpdHkiLCAiY2FydERyYXdlclNlbGVjdG9yIiwgIm9wZW5DYXJ0RHJhd2VyIiwgImNhcnREcmF3ZXIiLCAicGFja2FnZUNhbGN1bGF0b3JTZWxlY3RvciIsICJQYWNrYWdlQ2FsY3VsYXRvciIsICJiaW5kRXZlbnRMaXN0ZW5lcnMiLCAiI2hhbmRsZUNoYW5nZSIsICIjaGFuZGxlU3VibWl0IiwgImV2ZW50IiwgInZhbHVlIiwgIiNpc1ZhbGlkRXZlbnRWYWx1ZSIsICIjcmVzZXQiLCAic3F1YXJlTWV0ZXJzIiwgIiNjYWxjdWxhdGVTdXJmYWNlV2l0aEN1dG9mZiIsICIjdXBkYXRlVmFsdWVzIiwgImNsZWFyRXJyb3JzIiwgImdldEVsZW1lbnRWYWx1ZSIsICJ2YXJpYW50SWQiLCAiZ2V0RWxlbWVudEF0dHJpYnV0ZSIsICJxdWFudGl0eSIsICJzaG93RXJyb3IiLCAic2V0RWxlbWVudExvYWRpbmciLCAiYWRkVG9DYXJ0IiwgIm9wZW5DYXJ0RHJhd2VyIiwgImFkZFBlcmNlbnRhZ2VSb3VuZGVkIiwgInNxdWFyZU1ldGVyc1BlclBhY2thZ2UiLCAicGFja2FnZVByaWNlIiwgInBhY2thZ2VzTmVlZGVkIiwgImRpdmlkZUNlaWxlZCIsICJ0b3RhbFByaWNlIiwgInRyYW5zZm9ybSIsICIjZ2V0Q3VycmVuY3lUcmFuc2Zvcm1lciIsICJ1cGRhdGVIdG1sVGFyZ2V0Il0KfQo=
